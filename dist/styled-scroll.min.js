!function(t,e,i){"use strict";function s(t,i){var s=e.createElement("iframe");s.setAttribute("style","position: absolute; top: 0; left: 0; height: 100%; width: 100%; border: none; pointer-events: none; visibility: hidden;"),s.onload=function(){s.contentWindow&&(s.contentWindow.onresize=i)},t.appendChild(s),t.__resizeTrigger__=t}function r(t){t.__resizeTrigger__&&(t.__resizeTrigger__.parentNode===t&&t.removeChild(t.__resizeTrigger__),t.__resizeTrigger__=null)}function n(){if(M)return M;var t=e.createElement("div");t.style.visibility="hidden",t.style.width="100px",t.style.msOverflowStyle="scrollbar",t.classList.add("hide-scrollbar"),e.body.appendChild(t);var i=t.offsetWidth;t.style.overflow="scroll";var s=e.createElement("div");s.style.width="100%",t.appendChild(s);var r=s.offsetWidth;return t.parentNode.removeChild(t),M=i-r}function o(t,i){if(this.scrollElement=t,this.options=i||{},this.options.customDimensions||(this.scrollElement.style.maxHeight="100%"),m){this.scrollElement.style.webkitOverflowScrolling="touch",this.options.useNative=!0;var s=e.createElement("div");s.setAttribute("style","position: absolute; height: calc(100% + 1px); width: 1px; top: 0; left: 0; visibility: hidden"),this.scrollElement.appendChild(s)}u||(this.options.useNative=!0),this.options.useNative||(void 0===v&&(v=!p&&n()>0),this.options.customDimensions&&v&&(this.options.useNative=!0)),this.options.useNative?this.scrollElement.style.overflowY="auto":(this.scrollElement.style.overflowY="scroll",this.initScrollbar()),this.initEvents()}function l(t,e){this.track=t.track,this.thumb=t.thumb,this.thumbStyle=this.thumb.style,this.scrollElement=t.scrollElement,this.translateTrack=!!e;var i=this;this.scrollElement.addEventListener("scroll",this.scrollListener=function(){i.requestThumbUpdate()}),this.lastMouseY=0,this.initThumbEvents()}function h(t){return parseFloat(t)||0}var a,c=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){t.setTimeout(e,1e3/60)},d=e.createElement("div"),u=void 0!==d.classList&&void 0!==d.addEventListener;"transform"in d.style?a="transform":"webkitTransform"in d.style?a="webkitTransform":u=!1;var v,m="-webkit-overflow-scrolling"in d.style,p="-ms-overflow-style"in d.style,f=void 0!==t.MutationObserver,b="function"==typeof t.Event,E=void 0!==t.MSPointerEvent&&void 0===t.onpointerdown,g=E?"MSPointerDown":"pointerdown",y=E?"MSPointerMove":"pointermove",T=E?"MSPointerUp":"pointerup",S=E?"MSPointerCancel":"pointercancel",k=void 0!==t.onpointerdown||void 0!==t.MSPointerEvent,w=k?[g]:["touchstart","mousedown"],L=k?[y]:["touchmove","mousemove"],_=k?[T,S]:["touchend","mouseup","touchcancel","mousecancel"],M=null;o.prototype={initScrollbar:function(){this.scrollElement.classList.add("hide-scrollbar"),v?(this.scrollElement.style.width="calc(100% + "+n()+"px",this.scrollElement.offsetParent.style.overflowX="hidden"):p&&(this.scrollElement.style.msOverflowStyle="none"),this.createTrack(),this.scrollElement.parentNode.appendChild(this.track);var t=this.scrollbar=new l(this,this.options.customDimensions);this.refresh=function(){t.requestUpdate()},f?(this.observer=new MutationObserver(this.refresh),this.observer.observe(this.scrollElement,{attributes:!0,childList:!0,subtree:!0})):this.scrollElement.addEventListener("DOMSubtreeModified",this.refresh),"static"===getComputedStyle(this.scrollElement).position&&(this.scrollElement.style.position="relative"),s(this.scrollElement,this.refresh)},createTrack:function(){if(this.track=e.createElement("div"),this.thumb=e.createElement("div"),this.track.className="styled-scroll-track",this.track.style.position="absolute",this.thumb.className="styled-scroll-thumb",this.thumb.style.position="relative",this.thumb.style.boxSizing="border-box",this.track.style.pointerEvents="none",this.thumb.style.pointerEvents="auto",b){var t=this.scrollElement;this.track.addEventListener("wheel",function(e){var i=new WheelEvent(e.type,e);t.dispatchEvent(i)})}this.track.appendChild(this.thumb)},initEvents:function(){var t=this;this.events={},this.scrollStartEnd=function(){if(t.hasScrolledRecently=!0,!t.isScrolling){t.isScrolling=!0,t.triggerEvent("scrollStart");var e=setInterval(function(){t.hasScrolledRecently?t.hasScrolledRecently=!1:(clearInterval(e),t.isScrolling=!1,t.triggerEvent("scrollEnd"))},200)}},this.scrollElement.addEventListener?this.scrollElement.addEventListener("scroll",this.scrollStartEnd):this.scrollElement.onscroll=this.scrollStartEnd},destroy:function(){this.scrollElement.removeEventListener?this.scrollElement.removeEventListener("scroll",this.scrollStartEnd):this.scrollElement.onscroll=null,this.options.useNative||this.isDestroyed||(this.isDestroyed=!0,f?this.observer.disconnect():this.scrollElement.removeEventListener("DOMSubtreeModified",this.refresh),r(this.scrollElement),this.track=null,this.thumb=null,this.refresh=null,this.scrollbar.destroy(),this.scrollbar=null)},on:function(t,e){this.events[t]||(this.events[t]=[]),this.events[t].push(e)},off:function(t,e){if(this.events[t]){var i=this.events[t].indexOf(e);i>-1&&this.events[t].splice(i,1)}},triggerEvent:function(t){var e=this.events[t],i=e&&e.length;if(i){for(var s=new Array(arguments.length-1),r=1;r<arguments.length;r++)s[r-1]=arguments[r];for(var n=0;i>n;n++)e[n].apply(this,s)}}},l.prototype={requestUpdate:function(){this.isScrollbarInvalidated=!0,this.requestThumbUpdate()},requestThumbUpdate:function(){if(!this.isUpdateRequested){this.isUpdateRequested=!0;var t=this;c(function(){t.update()})}},update:function(){this.track&&(this.isScrollbarInvalidated?(this.updateScrollbar(),this.isScrollbarInvalidated=!1):this.updateThumbPosition()),this.isUpdateRequested=!1},updateScrollbar:function(){var t=this.scrollElement.scrollHeight,e=this.scrollElement.clientHeight;if(e>=.98*t)return void("hidden"!==this.track.style.visibility&&(this.track.style.visibility="hidden"));"visible"!==this.track.style.visibility&&(this.track.style.visibility="visible");var i=this.calculateAvailableTrackHeight(e),s=i*e/t;20>s&&(s=20),this.thumb.style.height=s+"px",this.scrollbarToElementRatio=(i-s)/(t-e),this.updateThumbPosition()},calculateAvailableTrackHeight:function(t){var e,i=getComputedStyle(this.track),s=getComputedStyle(this.thumb);if(this.translateTrack){var r=h(i.top),n=h(i.bottom),o=h(i.borderTopWidth),l=h(i.borderBottomWidth);this.track.style.height=t-r-n+"px",e=t-r-o-n-l;var c=getComputedStyle(this.scrollElement),d=getComputedStyle(this.scrollElement.offsetParent),u=h(c.borderRightWidth)+h(c.marginRight)+h(d.paddingRight),v=h(c.borderTopWidth)+h(c.marginTop)+h(d.paddingTop);this.track.style[a]="translate(-"+u+"px,"+v+"px)"}else e=this.track.clientHeight;return e-=h(s.top)+h(s.bottom),e-=h(i.paddingTop)+h(i.paddingBottom)},getCurrentThumbTop:function(){return this.scrollElement.scrollTop*this.scrollbarToElementRatio},updateThumbPosition:function(){this.isDragged&&(this.scrollElement.scrollTop=(this.lastMouseY-this.dragTopOffset)/this.scrollbarToElementRatio,this.isDragged=!1),this.thumbStyle[a]="translateY("+this.getCurrentThumbTop()+"px)"},initThumbEvents:function(){var t=this;t.start=function(i){t.lastMouseY=(i.touches?i.touches[0]:i).pageY,t.dragTopOffset=t.lastMouseY-t.getCurrentThumbTop(),i.preventDefault(),i.stopPropagation();for(var s=L.length;s--;)e.addEventListener(L[s],t.move);for(var s=_.length;s--;)e.addEventListener(_[s],t.end)},t.move=function(e){t.lastMouseY=(e.touches?e.touches[0]:e).pageY,t.isDragged=!0,t.requestThumbUpdate(),e.preventDefault(),e.stopPropagation()},t.end=function(i){for(var s=L.length;s--;)e.removeEventListener(L[s],t.move);for(var s=_.length;s--;)e.removeEventListener(_[s],t.end)};for(var i=w.length;i--;)t.thumb.addEventListener(w[i],t.start)},destroy:function(){for(var t=this,i=L.length;i--;)e.removeEventListener(L[i],t.move);for(var i=_.length;i--;)e.removeEventListener(_[i],t.end);this.track.parentNode.removeChild(this.track),this.track=null,this.thumb=null,this.scrollElement.removeEventListener("scroll",this.scrollListener)}},"undefined"!=typeof module&&module.exports?module.exports=o:t.StyledScroll=o}(window,document,Math);